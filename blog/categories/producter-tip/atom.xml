<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: producter-tip | Limon's Blog]]></title>
  <link href="http://limon.top/blog/categories/producter-tip/atom.xml" rel="self"/>
  <link href="http://limon.top/"/>
  <updated>2017-03-24T01:07:10+08:00</updated>
  <id>http://limon.top/</id>
  <author>
    <name><![CDATA[Limon]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Debug æ¨¡å¼ä¸ Release æ¨¡å¼çš„åŒºåˆ†]]></title>
    <link href="http://limon.top/debugbuild/"/>
    <updated>2016-01-08T11:31:30+08:00</updated>
    <id>http://limon.top/debugbuild</id>
    <content type="html"><![CDATA[<h1>Debug æ¨¡å¼ä¸ Release æ¨¡å¼çš„åŒºåˆ†</h1>

<p><br />
åŒºåˆ† Debug æ¨¡å¼ä¸ Release æ¨¡å¼æœ‰ä¸¤ç§æ–¹æ³•ï¼Œæ­¤æ–‡çš„ç›®çš„æ˜¯å‘Šè¯‰è¯»è€…å°½é‡é¿å…ç”¨ <code>-DDEBUG</code>ã€‚</p>

<h4>ç¬¬ä¸€ç§æ–¹æ³•ï¼š</h4>

<p>åœ¨ (Build Settings -> Swift Compiler - Custom Flags) ä¸­åŠ å…¥ <code>-DDEBUG</code>ï¼Œ
<a href="http://stackoverflow.com/questions/24111854/in-absence-of-preprocessor-macros-is-there-a-way-to-define-practical-scheme-spe/#answer-24112024">Stackoverflow</a>ã€‚</p>

<p><img src="http://i.stack.imgur.com/dqp5H.png" alt="" /></p>

<p>ä½†æ˜¯åœ¨ NSHipster ä¸­æœ‰æåˆ°<strong><em>ä¸æ¨è</em></strong>æ­¤æ–¹æ³•  <a href="http://nshipster.com/new-years-2016/#avoiding--ddebug-in-swift">Avoiding -DDEBUG in Swift</a></p>

<p><br /></p>

<h4>ç¬¬äºŒç§æ–¹æ³•</h4>

<p>é€šè¿‡ Preprocessor Macros (é¢„å¤„ç†å®å‘½ä»¤) æ¥åŒºåˆ†æ¨¡å¼ã€‚</p>

<p><br /></p>

<p>1.æ–°å»ºä¸€ä¸ª <code>PreProcessorMacros.h</code> æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹</p>

<pre><code class="swift">#import &lt;Foundation/Foundation.h&gt;

@interface PreProcessorMacros : NSObject

#ifndef PreProcessorMacros_h
#define PreProcessorMacros_h

extern BOOL const DEBUG_BUILD;

#endif

@end


@implementation PreProcessorMacros

#ifdef DEBUG
    BOOL const DEBUG_BUILD = YES;
#else
    BOOL const DEBUG_BUILD = NO;
#endif

@end
</code></pre>

<p><br /></p>

<p>2.åœ¨ Bridged Header: <code>#import "PreProcessorMacros.h"</code></p>

<blockquote><p>ä¹Ÿå¯ç›´æ¥æŠŠæ­¥éª¤ä¸€çš„ä»£ç æ”¾è¿› Bridged Header</p></blockquote>

<p><br /></p>

<p>3.æµ‹è¯•</p>

<pre><code>if DEBUG_BUILD {
    print("It's Debug build")
} else {
    print("It's Release build")
}
</code></pre>

<p><strong>âŒ˜â‡§&lt;</strong> è¿›å…¥ä¸‹å›¾å¯æ¨¡å¼åˆ‡æ¢</p>

<p><img src="https://raw.githubusercontent.com/Limon-O-O/DEBUGBUILD/master/images/switch.png" alt="" /></p>

<p><br /></p>

<h2>åŸç†</h2>

<p>å…³é”®çš„ä»£ç åœ¨ï¼š
&#8220;`</p>

<h1>ifdef DEBUG</h1>

<pre><code>BOOL const DEBUG_BUILD = YES;
</code></pre>

<h1>else</h1>

<pre><code>BOOL const DEBUG_BUILD = NO;
</code></pre>

<h1>endif</h1>

<p><code>``
æ­¤å¤„çš„</code>DEBUG` ç©¶ç«Ÿæ¥è‡ªå“ªï¼Ÿ</p>

<p>è¿›å…¥ &lsquo;Build Settings&rsquo; -> æœç´¢ &lsquo;Preprocessor Macros&#8217;ï¼ŒçœŸç›¸å¤§ç™½</p>

<p><img src="https://raw.githubusercontent.com/Limon-O-O/DEBUGBUILD/master/images/PreprocessorMacros.png" alt="" /></p>

<p><br />
æºç ï¼š<a href="https://github.com/Limon-O-O/DEBUGBUILD">DEBUGBUILD</a></p>

<p>æŠ½å–äºå¹²è´§æå¤šçš„ï¼š<a href="http://nshipster.com/new-years-2016/">Reader Submissions -
New Year&rsquo;s 2016</a>  ğŸº</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[èŠ±å¼è‡ªå®šä¹‰ä¸‹æ ‡]]></title>
    <link href="http://limon.top/subscriptswift/"/>
    <updated>2016-01-05T17:56:42+08:00</updated>
    <id>http://limon.top/subscriptswift</id>
    <content type="html"><![CDATA[<h1>èŠ±å¼è‡ªå®šä¹‰ä¸‹æ ‡</h1>

<h3>ä¸€ã€æšä¸¾ä½œ Key</h3>

<pre><code class="swift">let dictionaryOne = [
        MyDictionaryKeys.Name.rawValue: "Limon",
        MyDictionaryKeys.Age.rawValue: Int(18)
]
let name = dictionaryOne[.Name]!
let age = dictionaryOne[.Age]!
</code></pre>

<pre><code class="swift">enum MyDictionaryKeys: String {
    case Name
    case Age
}

extension Dictionary {

    subscript(customKey: MyDictionaryKeys) -&gt; AnyObject? {

        guard let key = customKey.rawValue as? Key else {
            return nil
        }

        for (k, value) in self {
            if key == k {
                return value as? String
            }
        }

        return nil
    }
}

extension NSDictionary {

    subscript(customKey: MyDictionaryKeys) -&gt; AnyObject? {
        return objectForKey(customKey.rawValue)
    }
}
</code></pre>

<p><br /></p>

<h3>äºŒã€å£°æ˜ Key æ—¶ï¼ŒåŒæ—¶å®šä¹‰ Value çš„ç±»å‹</h3>

<pre><code class="swift">let userID = dictionaryTwo[.tip_UserIDKey]!
print(userID is Int) // Always true
</code></pre>

<pre><code class="swift">extension DictionaryKeys {
    static let tip_UserIDKey = DictionaryKey&lt;Int?&gt;("userID")
}
</code></pre>

<pre><code class="swift">
extension NSDictionary {

    subscript(key: DictionaryKey&lt;String?&gt;) -&gt; String? {
        get { return objectForKey(key.value) as? String }
    }

    subscript(key: DictionaryKey&lt;Int?&gt;) -&gt; Int? {
        get { return objectForKey(key.value) as? Int }
    }
}

class DictionaryKeys {
    private init() {}
}

class DictionaryKey&lt;ValueType&gt;: DictionaryKeys {

    let value: String

    init(_ key: String) {
        self.value = key
    }
}
</code></pre>

<p><br /></p>

<h3>ä¸‰ã€ç”¨æšä¸¾è·å– Set çš„å…ƒç´ </h3>

<pre><code class="swift">let qqAccount = accountSet[.QQ]
let weChatAccount = accountSet[.WeChat]

print("æ ·å¼ä¸‰ã€qqAppID: \(qqAccount!.appID)  weChatAppID: \(weChatAccount!.appID)")
</code></pre>

<p><br /></p>

<p>æºç ï¼š<a href="https://github.com/Limon-catch/SubscriptSwift">SubscriptSwift</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Matching Option]]></title>
    <link href="http://limon.top/matching-option/"/>
    <updated>2015-12-23T22:36:43+08:00</updated>
    <id>http://limon.top/matching-option</id>
    <content type="html"><![CDATA[<pre><code>{
    "articles": [
        {
            "type": "app", // AppSoæ–‡ç« 
            "cellHeight": "100"
        },
        {
            "type": "number", // æ•°ç‹¬æ–‡ç« 
            "cellHeight": "200"
        },
        {
            "type": "mindStore", // MindStoreæ–‡ç« 
            "cellHeight": "300"
        }
    ]
}
</code></pre>

<p>å‡è®¾æœåŠ¡å™¨è¿”å›ä»¥ä¸Šçš„JSONï¼Œå®¢æˆ·ç«¯éœ€è¦æ ¹æ®æ–‡ç« ç±»å‹æ¥ä½œä¸åŒçš„å¸ƒå±€ã€‚</p>

<p>ç¬¬ä¸€æ—¶é—´å¯èƒ½ä¼šæƒ³åˆ°ä»¥ä¸‹çš„æ–¹æ³•æ¥switchï¼š</p>

<pre><code class="Swift">let typeString = "app"
switch typeString {

  case "app":
    print("AppSo Article")

  case "number":
    print("Number Article")

  default:
    break
}
</code></pre>

<p><br /></p>

<p>è¾ƒä¸ºä¼˜é›…çš„æ–¹æ³•æ˜¯ç”¨<code>enum</code>æ¥ç®¡ç†ç±»å‹ï¼š</p>

<pre><code>enum Occupation: String {
  case AppSo = "app"
  case Number = "number"
}

let typeString = "mindStore"

switch Occupation(rawValue: typeString) {

  case .AppSo?:
    print("AppSo Article")

  case .Number?:
    print("Number Article")

  case nil:
    print("Article?")
}
</code></pre>

<p><br /></p>

<p>æŠ½å–äºï¼š<a href="http://www.figure.ink/blog/2015/12/6/matching-with-swifts-optional-pattern?utm_campaign=This%2BWeek%2Bin%2BSwift&amp;utm_medium=web&amp;utm_source=This_Week_in_Swift_65">Matching with Swift&rsquo;s Optional Pattern</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä¼˜é›…åœ°è‡ªå®šä¹‰XibView]]></title>
    <link href="http://limon.top/customxibview/"/>
    <updated>2015-12-23T21:38:17+08:00</updated>
    <id>http://limon.top/customxibview</id>
    <content type="html"><![CDATA[<h2>ä¼˜é›…åœ°è‡ªå®šä¹‰XibView</h2>

<p>å¥½ä¹ æƒ¯ï¼Œå…ˆä¸Š<a href="https://github.com/Limon-catch/XibView">æºç </a>ã€‚</p>

<p>å…ˆåˆ›å»ºä¸€ä¸ªUIViewæ–‡ä»¶å’Œä¸€ä¸ªXibæ–‡ä»¶ï¼Œåœ¨Xibæ–‡ä»¶é‡Œè®¾ç½®å¦‚ä¸‹ï¼Œ</p>

<p><img src="https://raw.githubusercontent.com/Limon-catch/XibView/master/XibView/Image/XibView_Step1.png" alt="" /></p>

<p>åœ¨UIViewæ–‡ä»¶ä¸­ï¼Œä¸æ˜¯ç”¨<code>-awakeFromNib()</code>ä½œä¸ºæ„é€ å™¨ï¼Œè€Œæ˜¯æ­£å¸¸çš„<code>-init(frame: CGRect)</code>ã€‚</p>

<pre><code class="swift">
override init(frame: CGRect) {
    super.init(frame: frame)

    xibSetup()
}
</code></pre>

<p>è€Œ<code>-xibSetup()</code>æ‰æ˜¯å…³é”®ï¼Œå…·ä½“å¯çœ‹æºç ã€‚</p>

<p><br />
å¦‚æœéœ€è¦UIViewå’ŒXibæ–‡ä»¶å»ºç«‹æ§ä»¶å±æ€§å…³è”ï¼Œæ˜¯è®¾ç½®Xibæ–‡ä»¶çš„File`s Ownerï¼Œ<strong><em>è€Œä¸æ˜¯è®¾ç½®Viewçš„Custom Class</em></strong>ã€‚</p>

<p><img src="https://raw.githubusercontent.com/Limon-catch/XibView/master/XibView/Image/XibView_Step2.png" alt="" /></p>

<p>è®¾ç½®äº†File`s Ownerå°±å¯ä»¥åƒå¾€å¸¸ä¸€æ ·æ‹–çº¿äº†ã€‚</p>

<p>å¦‚æœæƒ³åœ¨<code>Main.storyboard</code>æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨æ­¤Xibï¼ŒåŒæ—¶ä¹Ÿæƒ³åœ¨SBä¸­è®¾ç½®å±æ€§ï¼Œé‚£æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ</p>

<ol>
<li>åœ¨SBä¸­åŠ å…¥ä¸€ä¸ªUIViewï¼Œå°†å…¶Classè®¾ç½®æˆ<code>XibView</code><br /></li>
<li>ä½¿ç”¨<code>@IBInspectable</code></li>
</ol>


<pre><code>@IBInspectable var title: String? {
    get {
        return xibLabel.text
    }
    set {
        xibLabel.text = newValue
    }
}
</code></pre>

<p><br />
æ·»åŠ äº†<code>@IBInspectable</code>ä¹‹åï¼Œå°±å¯ä»¥åƒç³»ç»Ÿè‡ªå¸¦çš„æ§ä»¶ä¸€æ ·è®¾ç½®å±æ€§äº†ã€‚</p>

<p><img src="https://raw.githubusercontent.com/Limon-catch/XibView/master/XibView/Image/XibView_Step3.png" alt="" /></p>
]]></content>
  </entry>
  
</feed>
