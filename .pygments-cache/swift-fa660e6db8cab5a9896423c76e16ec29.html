<div class="highlight"><pre><span class="k">extension</span> <span class="bp">UICollectionView</span> <span class="p">{</span>

    <span class="k">enum</span> <span class="n">WayToUpdate</span> <span class="p">{</span>

        <span class="k">case</span> <span class="n">None</span>
        <span class="k">case</span> <span class="n">ReloadData</span>
        <span class="k">case</span> <span class="n">Insert</span><span class="p">([</span><span class="bp">NSIndexPath</span><span class="p">])</span>

        <span class="k">var</span> <span class="nl">needsLabor</span><span class="p">:</span> <span class="n">Bool</span> <span class="p">{</span>

            <span class="k">switch</span> <span class="nb">self</span> <span class="p">{</span>
            <span class="k">case</span> <span class="p">.</span><span class="nl">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">false</span>
            <span class="k">case</span> <span class="p">.</span><span class="nl">ReloadData</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">true</span>
            <span class="k">case</span> <span class="p">.</span><span class="nl">Insert</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">true</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">func</span> <span class="n">performWithCollectionView</span><span class="p">(</span><span class="nl">collectionView</span><span class="p">:</span> <span class="bp">UICollectionView</span><span class="p">)</span> <span class="p">{</span>

            <span class="k">switch</span> <span class="nb">self</span> <span class="p">{</span>
                <span class="k">case</span> <span class="p">.</span><span class="nl">None</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="k">case</span> <span class="p">.</span><span class="nl">ReloadData</span><span class="p">:</span>
                    <span class="n">collectionView</span><span class="p">.</span><span class="n">reloadData</span><span class="p">()</span>
                <span class="k">case</span> <span class="p">.</span><span class="n">Insert</span><span class="p">(</span><span class="k">let</span> <span class="n">indexPaths</span><span class="p">)</span><span class="o">:</span>
                    <span class="n">collectionView</span><span class="p">.</span><span class="n">insertItemsAtIndexPaths</span><span class="p">(</span><span class="n">indexPaths</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>